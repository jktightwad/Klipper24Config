# [cartographer]
# canbus_uuid = 8fd2e9a0b625
# speed = 30.
# lift_speed = 40.
# backlash_comp = 0.5
# x_offset = 0.0
# y_offset = 21.1
# trigger_distance = 2.
# trigger_dive_threshold = 1.5
# trigger_hysteresis = 0.006
# cal_nozzle_z = 0.1
# cal_floor = 0.1
# cal_ceil = 5.
# cal_speed = 1.0
# cal_move_speed = 10.
# default_model_name = default
# mesh_main_direction = x
# mesh_cluster_size = 1
# mesh_runs = 2
# tc_a_a:6.994963042827164e-06
# tc_a_b:0.4778091610028035
# tc_b_a:-0.00038306758849751944
# tc_b_b:-181.3245823588002

[scanner]
canbus_uuid = e3194a58fb88
speed: 40.
#   Z probing dive speed.
lift_speed: 50.
#   Z probing lift speed.
backlash_comp: 0.5
#   Backlash compensation distance for removing Z backlash before measuring
#   the sensor response.
x_offset: 0.
#   X offset of cartographer from the nozzle.
y_offset: 21.1
#   Y offset of cartographer from the nozzle.
trigger_distance: 2.
#   cartographer trigger distance for homing.
trigger_dive_threshold: 1.5
#   Threshold for range vs dive mode probing. Beyond `trigger_distance +
#   trigger_dive_threshold` a dive will be used.
trigger_hysteresis: 0.006
#   Hysteresis on trigger threshold for untriggering, as a percentage of the
#   trigger threshold.
cal_nozzle_z: 0.1
#   Expected nozzle offset after completing manual Z offset calibration.
cal_floor: 0.1
#   Minimum z bound on sensor response measurement.
cal_ceil:5.
#   Maximum z bound on sensor response measurement.
cal_speed: 1.0
#   Speed while measuring response curve.
cal_move_speed: 10.
#   Speed while moving to position for response curve measurement.
default_model_name: default
#   Name of default cartographer model to load.
mesh_main_direction: x
#   Primary travel direction during mesh measurement.
#mesh_overscan: -1
#   Distance to use for direction changes at mesh line ends. Omit this setting
#   and a default will be calculated from line spacing and available travel.
mesh_cluster_size: 1
#   Radius of mesh grid point clusters.
mesh_runs: 2
calibration_method: touch
sensor: cartographer
sensor_alt: carto
scanner_touch_z_offset: 0.15
scanner_touch_max_retries: 6

# [gcode_macro DATA_SAMPLE]
# gcode:
#   G90
#   M106 S255
#   M117 "Waiting for Coil to cool to 40"
#   TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM=40
#   M117 "Starting Phase 1 of 4"
#   M106 S0
#   G28
#   G0 Z1
#   M104 S250
#   M140 S110
#   G4 P1000
#   CARTOGRAPHER_STREAM FILENAME=data1
#   M117 "Waiting for Coil to heat to 70"
#   TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM=70
#   CARTOGRAPHER_STREAM FILENAME=data1
#   M104 S0
#   M140 S0
#   M106 S255
#   G0 Z80
#   M117 "Waiting for Coil to cool to 40"
#   TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM=40
#   M117 "Starting Phase 2 of 4"
#   M106 S0
#   G28 Z0
#   G0 Z2
#   M104 S250
#   M140 S110
#   G4 P1000
#   CARTOGRAPHER_STREAM FILENAME=data2
#   M117 "Waiting for Coil to heat to 70"
#   TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM=70
#   CARTOGRAPHER_STREAM FILENAME=data2
#   M104 S0
#   M140 S0
#   M106 S255
#   G0 Z80
#   M117 "Waiting for Coil to cool to 40"
#   TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM=40
#   M117 "Starting Phase 3 of 4"
#   M106 S0
#   G28 Z0
#   G0 Z3
#   M104 S250
#   M140 S110
#   G4 P1000
#   CARTOGRAPHER_STREAM FILENAME=data3
#   M117 "Waiting for Coil to heat to 70"
#   TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM=70
#   CARTOGRAPHER_STREAM FILENAME=data3
#   M104 S0
#   M140 S0
#   M106 S255
#   G0 Z80
#   M117 "Waiting for Coil to cool to 40"
#   TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM=40
#   M117 "Starting Phase 4 of 4"
#   M106 S0
#   G28 Z0
#   G0 Z5
#   M104 S250
#   M140 S110
#   G4 P1000
#   CARTOGRAPHER_STREAM FILENAME=data4
#   M117 "Waiting for Coil to heat to 70"
#   TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM=70
#   CARTOGRAPHER_STREAM FILENAME=data4
#   M104 S0
#   M140 S0
#   M117 "Testing complete, please move files using: mv ~/klipper/data1 ~/klipper/data2 ~/klipper/data3 ~/klipper/data4 ~/cartographer-klipper/"
#   M117 "Follow the remaining instructions here: https://docs.cartographer3d.com/cartographer-probe/advanced-features/temperature-differential-calibration-beta"